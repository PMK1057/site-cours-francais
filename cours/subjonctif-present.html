
<button class="back-btn" onclick="backToSection('conjugaison')">â† Retour</button>
<h2>ğŸ­ LE SUBJONCTIF PRÃ‰SENT</h2>
<style>
        .indicatif-alert {
            background: #fee2e2;
            border-left: 4px solid #dc2626;
            padding: 18px 22px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 6px 18px rgba(220, 38, 38, 0.12);
        }
        .indicatif-alert h4 {
            margin-top: 0;
            color: #b91c1c;
            font-weight: 700;
        }
        .indicatif-alert ul {
            margin: 10px 0 16px 20px;
            line-height: 1.8;
        }
        .indicatif-alert li::before {
            content: "â—";
            margin-right: 6px;
            color: #dc2626;
        }
        .inline-feedback {
            margin-top: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            display: block;
            visibility: hidden;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(229, 231, 235, 0.6);
            border: 1px solid transparent;
        }
        .inline-feedback.good {
            color: #166534;
            background: #dcfce7;
            border-color: #86efac;
        }
        .inline-feedback.bad {
            color: #b91c1c;
            background: #fee2e2;
            border-color: #fecaca;
        }
        .verb-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
            margin: 18px 0;
        }
        .verb-card {
            background: #f5f7ff;
            border: 1px solid #d6dcfb;
            border-radius: 12px;
            padding: 18px;
            box-shadow: 0 10px 18px rgba(102, 126, 234, 0.12);
        }
        .verb-card h5 {
            margin-top: 0;
            font-size: 1.05rem;
            color: #3b4cc0;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }
        .verb-card ul {
            list-style: none;
            margin: 12px 0 0 0;
            padding: 0;
            line-height: 1.8;
        }
        .verb-card li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }
        .audio-chip {
            border: none;
            background: #4f46e5;
            color: white;
            border-radius: 999px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: transform 0.2s ease, background 0.2s ease;
        }
        .audio-chip:hover {
            background: #3730a3;
            transform: translateY(-1px);
        }
        .aa-question {
            margin-bottom: 18px;
        }
        .resume-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px 28px;
            border-radius: 12px;
            margin: 20px 0 30px 0;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
        }
        .resume-box h3 {
            margin-top: 0;
            color: white;
            font-size: 1.4em;
            margin-bottom: 16px;
        }
        .resume-box p {
            margin: 12px 0;
            line-height: 1.8;
            font-size: 1.05em;
        }
        .resume-box strong {
            color: #ffd700;
            font-weight: 600;
        }
        .resume-box ul {
            margin: 16px 0 16px 24px;
            line-height: 2;
        }
        .resume-box li {
            margin: 8px 0;
        }
        .resume-box .arrow {
            color: #ffd700;
            font-weight: bold;
            margin: 0 6px;
        }
    </style>
<div class="resume-box">
<h3>ğŸ“‹ En rÃ©sumÃ©</h3>
<p>Le subjonctif apparaÃ®t aprÃ¨s <strong>"que"</strong> et <strong>"qu'"</strong>, sauf :</p>
<ul>
<li><strong>(1)</strong> quand on exprime une <strong>opinion affirmÃ©e</strong> (je pense que, je crois que, je trouve que, je suppose que, j'imagine que...)</li>
<li><strong>(2)</strong> quand on exprime une <strong>certitude</strong> (je suis certain que, c'est sÃ»r que, il est Ã©vident que, il est clair que...)</li>
</ul>
<p><span class="arrow">â†’</span> Dans ces cas : <strong>indicatif</strong> (je suis sÃ»r que c'est mon sac, il pense que nous sommes frÃ¨res, je crois qu'il vient demain, etc.)</p>
</div>
<div class="info-box">
<h3>ğŸ“Œ Qu'est-ce que c'est ?</h3>
<p>Le subjonctif prÃ©sent exprime le <strong>doute</strong>, le <strong>souhait</strong>, la <strong>nÃ©cessitÃ©</strong>, l'<strong>Ã©motion</strong> ou la <strong>possibilitÃ©</strong>. Il est souvent utilisÃ© aprÃ¨s "que".</p>
</div>
<h3>Formation</h3>
<p><strong>Base : radical de "ils" au prÃ©sent + terminaisons : -e, -es, -e, -ions, -iez, -ent</strong></p>
<h3>Conjugaison des verbes rÃ©guliers</h3>
<div class="example-box">
<h4>PARLER (1er groupe -ER)</h4>
<p>Ils parl<strong>ent</strong> â†’ radical = <strong>parl</strong></p>
<ul>
<li>que je parl<strong>e</strong></li>
<li>que tu parl<strong>es</strong></li>
<li>qu'il/elle parl<strong>e</strong></li>
<li>que nous parl<strong>ions</strong></li>
<li>que vous parl<strong>iez</strong></li>
<li>qu'ils/elles parl<strong>ent</strong></li>
</ul>
</div>
<div class="example-box">
<h4>FINIR (2Ã¨me groupe -IR)</h4>
<p>Ils finiss<strong>ent</strong> â†’ radical = <strong>finiss</strong></p>
<table>
<thead>
<tr>
<th>Personne</th>
<th>Conjugaison</th>
</tr>
</thead>
<tbody>
<tr><td>que je</td><td>finiss<strong>e</strong></td></tr>
<tr><td>que tu</td><td>finiss<strong>es</strong></td></tr>
<tr><td>qu'il/elle</td><td>finiss<strong>e</strong></td></tr>
<tr><td>que nous</td><td>finiss<strong>ions</strong></td></tr>
<tr><td>que vous</td><td>finiss<strong>iez</strong></td></tr>
<tr><td>qu'ils/elles</td><td>finiss<strong>ent</strong></td></tr>
</tbody>
</table>
</div>
<h3>Verbes irrÃ©guliers importants</h3><div class="verb-grid"><div class="verb-card"><h5>ÃŠTRE</h5><ul><li><span>que je sois</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951754/cours-francais/vocabulaire/que_je_sois.mp3')" title="Ã‰couter Â« que je sois Â»" type="button">ğŸ”Š</button></li><li><span>que tu sois</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951755/cours-francais/vocabulaire/que_tu_sois.mp3')" title="Ã‰couter Â« que tu sois Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on soit</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951756/cours-francais/vocabulaire/qu_il_elle_on_soit.mp3')" title="Ã‰couter Â« qu'il/elle/on soit Â»" type="button">ğŸ”Š</button></li><li><span>que nous soyons</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951757/cours-francais/vocabulaire/que_nous_soyons.mp3')" title="Ã‰couter Â« que nous soyons Â»" type="button">ğŸ”Š</button></li><li><span>que vous soyez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951758/cours-francais/vocabulaire/que_vous_soyez.mp3')" title="Ã‰couter Â« que vous soyez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles soient</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951758/cours-francais/vocabulaire/qu_ils_elles_soient.mp3')" title="Ã‰couter Â« qu'ils/elles soient Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>AVOIR</h5><ul><li><span>que j'aie</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951759/cours-francais/vocabulaire/que_j_aie.mp3')" title="Ã‰couter Â« que j'aie Â»" type="button">ğŸ”Š</button></li><li><span>que tu aies</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951760/cours-francais/vocabulaire/que_tu_aies.mp3')" title="Ã‰couter Â« que tu aies Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on ait</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951761/cours-francais/vocabulaire/qu_il_elle_on_ait.mp3')" title="Ã‰couter Â« qu'il/elle/on ait Â»" type="button">ğŸ”Š</button></li><li><span>que nous ayons</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951762/cours-francais/vocabulaire/que_nous_ayons.mp3')" title="Ã‰couter Â« que nous ayons Â»" type="button">ğŸ”Š</button></li><li><span>que vous ayez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951763/cours-francais/vocabulaire/que_vous_ayez.mp3')" title="Ã‰couter Â« que vous ayez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles aient</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951763/cours-francais/vocabulaire/qu_ils_elles_aient.mp3')" title="Ã‰couter Â« qu'ils/elles aient Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>FAIRE</h5><ul><li><span>que je fasse</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951767/cours-francais/vocabulaire/que_je_fasse.mp3')" title="Ã‰couter Â« que je fasse Â»" type="button">ğŸ”Š</button></li><li><span>que tu fasses</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951768/cours-francais/vocabulaire/que_tu_fasses.mp3')" title="Ã‰couter Â« que tu fasses Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on fasse</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951768/cours-francais/vocabulaire/qu_il_elle_on_fasse.mp3')" title="Ã‰couter Â« qu'il/elle/on fasse Â»" type="button">ğŸ”Š</button></li><li><span>que nous fassions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951769/cours-francais/vocabulaire/que_nous_fassions.mp3')" title="Ã‰couter Â« que nous fassions Â»" type="button">ğŸ”Š</button></li><li><span>que vous fassiez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951770/cours-francais/vocabulaire/que_vous_fassiez.mp3')" title="Ã‰couter Â« que vous fassiez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles fassent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951772/cours-francais/vocabulaire/qu_ils_elles_fassent.mp3')" title="Ã‰couter Â« qu'ils/elles fassent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>ALLER</h5><ul><li><span>que j'aille</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951772/cours-francais/vocabulaire/que_j_aille.mp3')" title="Ã‰couter Â« que j'aille Â»" type="button">ğŸ”Š</button></li><li><span>que tu ailles</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951774/cours-francais/vocabulaire/que_tu_ailles.mp3')" title="Ã‰couter Â« que tu ailles Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on aille</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951775/cours-francais/vocabulaire/qu_il_elle_on_aille.mp3')" title="Ã‰couter Â« qu'il/elle/on aille Â»" type="button">ğŸ”Š</button></li><li><span>que nous allions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951775/cours-francais/vocabulaire/que_nous_allions.mp3')" title="Ã‰couter Â« que nous allions Â»" type="button">ğŸ”Š</button></li><li><span>que vous alliez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951776/cours-francais/vocabulaire/que_vous_alliez.mp3')" title="Ã‰couter Â« que vous alliez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles aillent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951777/cours-francais/vocabulaire/qu_ils_elles_aillent.mp3')" title="Ã‰couter Â« qu'ils/elles aillent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>POUVOIR</h5><ul><li><span>que je puisse</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951778/cours-francais/vocabulaire/que_je_puisse.mp3')" title="Ã‰couter Â« que je puisse Â»" type="button">ğŸ”Š</button></li><li><span>que tu puisses</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951779/cours-francais/vocabulaire/que_tu_puisses.mp3')" title="Ã‰couter Â« que tu puisses Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on puisse</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951780/cours-francais/vocabulaire/qu_il_elle_on_puisse.mp3')" title="Ã‰couter Â« qu'il/elle/on puisse Â»" type="button">ğŸ”Š</button></li><li><span>que nous puissions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951781/cours-francais/vocabulaire/que_nous_puissions.mp3')" title="Ã‰couter Â« que nous puissions Â»" type="button">ğŸ”Š</button></li><li><span>que vous puissiez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951782/cours-francais/vocabulaire/que_vous_puissiez.mp3')" title="Ã‰couter Â« que vous puissiez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles puissent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951783/cours-francais/vocabulaire/qu_ils_elles_puissent.mp3')" title="Ã‰couter Â« qu'ils/elles puissent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>SAVOIR</h5><ul><li><span>que je sache</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951784/cours-francais/vocabulaire/que_je_sache.mp3')" title="Ã‰couter Â« que je sache Â»" type="button">ğŸ”Š</button></li><li><span>que tu saches</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951785/cours-francais/vocabulaire/que_tu_saches.mp3')" title="Ã‰couter Â« que tu saches Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on sache</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951786/cours-francais/vocabulaire/qu_il_elle_on_sache.mp3')" title="Ã‰couter Â« qu'il/elle/on sache Â»" type="button">ğŸ”Š</button></li><li><span>que nous sachions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951787/cours-francais/vocabulaire/que_nous_sachions.mp3')" title="Ã‰couter Â« que nous sachions Â»" type="button">ğŸ”Š</button></li><li><span>que vous sachiez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951787/cours-francais/vocabulaire/que_vous_sachiez.mp3')" title="Ã‰couter Â« que vous sachiez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles sachent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951788/cours-francais/vocabulaire/qu_ils_elles_sachent.mp3')" title="Ã‰couter Â« qu'ils/elles sachent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>VOULOIR</h5><ul><li><span>que je veuille</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951789/cours-francais/vocabulaire/que_je_veuille.mp3')" title="Ã‰couter Â« que je veuille Â»" type="button">ğŸ”Š</button></li><li><span>que tu veuilles</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951791/cours-francais/vocabulaire/que_tu_veuilles.mp3')" title="Ã‰couter Â« que tu veuilles Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on veuille</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951792/cours-francais/vocabulaire/qu_il_elle_on_veuille.mp3')" title="Ã‰couter Â« qu'il/elle/on veuille Â»" type="button">ğŸ”Š</button></li><li><span>que nous voulions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951794/cours-francais/vocabulaire/que_nous_voulions.mp3')" title="Ã‰couter Â« que nous voulions Â»" type="button">ğŸ”Š</button></li><li><span>que vous vouliez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951794/cours-francais/vocabulaire/que_vous_vouliez.mp3')" title="Ã‰couter Â« que vous vouliez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles veuillent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951795/cours-francais/vocabulaire/qu_ils_elles_veuillent.mp3')" title="Ã‰couter Â« qu'ils/elles veuillent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>VENIR</h5><ul><li><span>que je vienne</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951796/cours-francais/vocabulaire/que_je_vienne.mp3')" title="Ã‰couter Â« que je vienne Â»" type="button">ğŸ”Š</button></li><li><span>que tu viennes</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951797/cours-francais/vocabulaire/que_tu_viennes.mp3')" title="Ã‰couter Â« que tu viennes Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on vienne</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951798/cours-francais/vocabulaire/qu_il_elle_on_vienne.mp3')" title="Ã‰couter Â« qu'il/elle/on vienne Â»" type="button">ğŸ”Š</button></li><li><span>que nous venions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951799/cours-francais/vocabulaire/que_nous_venions.mp3')" title="Ã‰couter Â« que nous venions Â»" type="button">ğŸ”Š</button></li><li><span>que vous veniez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951801/cours-francais/vocabulaire/que_vous_veniez.mp3')" title="Ã‰couter Â« que vous veniez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles viennent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951802/cours-francais/vocabulaire/qu_ils_elles_viennent.mp3')" title="Ã‰couter Â« qu'ils/elles viennent Â»" type="button">ğŸ”Š</button></li></ul></div><div class="verb-card"><h5>PRENDRE</h5><ul><li><span>que je prenne</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951803/cours-francais/vocabulaire/que_je_prenne.mp3')" title="Ã‰couter Â« que je prenne Â»" type="button">ğŸ”Š</button></li><li><span>que tu prennes</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951804/cours-francais/vocabulaire/que_tu_prennes.mp3')" title="Ã‰couter Â« que tu prennes Â»" type="button">ğŸ”Š</button></li><li><span>qu'il/elle/on prenne</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951804/cours-francais/vocabulaire/qu_il_elle_on_prenne.mp3')" title="Ã‰couter Â« qu'il/elle/on prenne Â»" type="button">ğŸ”Š</button></li><li><span>que nous prenions</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951805/cours-francais/vocabulaire/que_nous_prenions.mp3')" title="Ã‰couter Â« que nous prenions Â»" type="button">ğŸ”Š</button></li><li><span>que vous preniez</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951807/cours-francais/vocabulaire/que_vous_preniez.mp3')" title="Ã‰couter Â« que vous preniez Â»" type="button">ğŸ”Š</button></li><li><span>qu'ils/elles prennent</span><button class="audio-chip" onclick="playAudio('https://res.cloudinary.com/da9yduppr/video/upload/v1762951808/cours-francais/vocabulaire/qu_ils_elles_prennent.mp3')" title="Ã‰couter Â« qu'ils/elles prennent Â»" type="button">ğŸ”Š</button></li></ul></div></div>


<h3>Quand l'utiliser ?</h3>
<div class="example-box">
<h4>1. ğŸ’ª NÃ©cessitÃ© / Obligation</h4>
<ul>
<li><strong>Il faut que</strong> je <strong>fasse</strong> mes devoirs.</li>
<li><strong>Il est nÃ©cessaire que</strong> tu <strong>viennes</strong>.</li>
<li><strong>Il est important que</strong> nous <strong>soyons</strong> Ã  l'heure.</li>
<li><strong>Il vaut mieux que</strong> tu <strong>partes</strong> maintenant.</li>
</ul>
</div>
<div class="example-box">
<h4>2. âœ¨ Souhait / VolontÃ©</h4>
<ul>
<li><strong>Je veux que</strong> tu <strong>rÃ©ussisses</strong>.</li>
<li><strong>J'aimerais que</strong> vous <strong>veniez</strong>.</li>
<li><strong>Je souhaite que</strong> tu <strong>ailles</strong> bien.</li>
</ul>
</div>
<div class="example-box">
<h4>3. ğŸ˜ŠğŸ˜¢ Ã‰motion</h4>
<ul>
<li><strong>Je suis content que</strong> tu <strong>sois</strong> lÃ .</li>
<li><strong>J'ai peur qu'</strong>il <strong>pleuve</strong>.</li>
<li><strong>Je regrette que</strong> tu ne <strong>puisses</strong> pas venir.</li>
</ul>
</div>
<div class="example-box">
<h4>4. ğŸ¤” Doute / PossibilitÃ©</h4>
<ul>
<li><strong>Je doute qu'</strong>il <strong>vienne</strong>.</li>
<li><strong>Il est possible que</strong> nous <strong>partions</strong> demain.</li>
<li><strong>Je ne pense pas que</strong> ce <strong>soit</strong> vrai.</li>
</ul>
</div>
<div class="warning-box">
<h4>âš ï¸ Expressions courantes avec subjonctif</h4>
<ul>
<li>Il faut que...</li>
<li>Il est important que...</li>
<li>Il est nÃ©cessaire que...</li>
<li>Il vaut mieux que...</li>
<li>Bien que... (although)</li>
<li>Avant que... (before)</li>
<li>Pour que... (so that)</li>
<li>Sans que... (without)</li>
<li>Jusqu'Ã  ce que... (until)</li>
</ul>
</div>
<div class="indicatif-alert">
<h4>âš ï¸ Opinion et certitude affirmatives â†’ INDICATIF</h4>
<p>Quand tu exprimes une <strong>opinion affirmÃ©e</strong> ou une <strong>certitude</strong>, on garde l'indicatif, pas le subjonctif.</p>
<p><strong>Opinion affirmÃ©e (â†’ indicatif)</strong></p>
<ul>
<li>Je pense que tu <strong>viens</strong> demain.</li>
<li>J'estime que cette solution <strong>fonctionne</strong>.</li>
<li>Nous croyons que le train <strong>arrive</strong> Ã  18 h.</li>
</ul>
<p><strong>Certitude (â†’ indicatif)</strong></p>
<ul>
<li>Il est certain que nous <strong>sommes</strong> prÃªts.</li>
<li>Il est Ã©vident qu'ils <strong>ont</strong> raison.</li>
<li>Il est clair que le concert <strong>commence</strong> Ã  21 h.</li>
</ul>
<p>âš ï¸ Si l'opinion est nÃ©gative ou interrogative (<em>Je ne pense pas que..., Penses-tu que... ?</em>), on revient au <strong>subjonctif</strong>.</p>
</div>
<h3>Exercice</h3>
<div class="exercise">
<h4>Exercice : ComplÃ©tez avec le subjonctif prÃ©sent</h4>
<div class="question">
            1. Il faut que tu <input class="answer" id="subj_1" type="text"/> (Ãªtre) Ã  l'heure.
        </div>
<div class="question">
            2. Je doute qu'il <input class="answer" id="subj_2" type="text"/> (venir) ce soir.
        </div>
<div class="question">
            3. Je veux que vous <input class="answer" id="subj_3" type="text"/> (finir) ce travail.
        </div>
<div class="question">
            4. Je suis content que tu <input class="answer" id="subj_4" type="text"/> (faire) tes devoirs.
        </div>
<div class="question">
            5. Il est important que nous <input class="answer" id="subj_5" type="text"/> (avoir) tous les documents.
        </div>
<div class="question">
            6. Bien que je <input class="answer" id="subj_6" type="text"/> (savoir) la rÃ©ponse, je ne vais pas te le dire.
        </div>
<div class="question">
            7. Avant que tu <input class="answer" id="subj_7" type="text"/> (partir), dis-moi au revoir.
        </div>
<div class="question">
            8. Pour que nous <input class="answer" id="subj_8" type="text"/> (rÃ©ussir), il faut travailler.
        </div>
<div class="question">
            9. J'ai peur qu'il ne <input class="answer" id="subj_9" type="text"/> (pleuvoir) demain.
        </div>
<div class="question">
            10. Il est nÃ©cessaire que vous <input class="answer" id="subj_10" type="text"/> (aller) chez le mÃ©decin.
        </div>
<button onclick="checkSubjonctif()">VÃ©rifier</button>
<button onclick="resetSubjonctif()">Recommencer</button>
<div class="result" id="result-subj"></div>
</div>
<div class="exercise">
<h4>Exercice : Subjonctif ou indicatif ?</h4>
<p>Choisis la forme correcte du verbe entre les deux propositions.</p>
<div class="question">
            1. Je pense que tu
            <select class="answer" id="mode_1">
<option value="">-- Choisir --</option>
<option value="viens">viens</option>
<option value="viennes">viennes</option>
</select>
            demain.
            <div class="inline-feedback" id="mode_1-feedback"></div>
</div>
<div class="question">
            2. Il est certain que nous
            <select class="answer" id="mode_2">
<option value="">-- Choisir --</option>
<option value="sommes">sommes</option>
<option value="soyons">soyons</option>
</select>
            prÃªts.
            <div class="inline-feedback" id="mode_2-feedback"></div>
</div>
<div class="question">
            3. Je doute que vous
            <select class="answer" id="mode_3">
<option value="">-- Choisir --</option>
<option value="finissiez">finissiez</option>
<option value="finissez">finissez</option>
</select>
            avant minuit.
            <div class="inline-feedback" id="mode_3-feedback"></div>
</div>
<div class="question">
            4. Il est possible que Pierre
            <select class="answer" id="mode_4">
<option value="">-- Choisir --</option>
<option value="puisse">puisse</option>
<option value="peut">peut</option>
</select>
            venir.
            <div class="inline-feedback" id="mode_4-feedback"></div>
</div>
<div class="question">
            5. J'estime que ce projet
            <select class="answer" id="mode_5">
<option value="">-- Choisir --</option>
<option value="reussira">rÃ©ussira</option>
<option value="reussisse">rÃ©ussisse</option>
</select>
            rapidement.
            <div class="inline-feedback" id="mode_5-feedback"></div>
</div>
<div class="question">
            6. Il n'est pas sÃ»r qu'ils
            <select class="answer" id="mode_6">
<option value="">-- Choisir --</option>
<option value="soient">soient</option>
<option value="sont">sont</option>
</select>
            prÃªts Ã  partir.
            <div class="inline-feedback" id="mode_6-feedback"></div>
</div>
<div class="question">
            7. Il est Ã©vident que tu
            <select class="answer" id="mode_7">
<option value="">-- Choisir --</option>
<option value="as">as</option>
<option value="aies">aies</option>
</select>
            compris la leÃ§on.
            <div class="inline-feedback" id="mode_7-feedback"></div>
</div>
<div class="question">
            8. Je ne pense pas que Marie
            <select class="answer" id="mode_8">
<option value="">-- Choisir --</option>
<option value="vienne">vienne</option>
<option value="vient">vient</option>
</select>
            Ã  la fÃªte.
            <div class="inline-feedback" id="mode_8-feedback"></div>
</div>
<div class="question">
            9. Penses-tu qu'ils
            <select class="answer" id="mode_9">
<option value="">-- Choisir --</option>
<option value="puissent">puissent</option>
<option value="peuvent">peuvent</option>
</select>
            rester ?
            <div class="inline-feedback" id="mode_9-feedback"></div>
</div>
<div class="question">
            10. Il est clair que nous
            <select class="answer" id="mode_10">
<option value="">-- Choisir --</option>
<option value="faisons">faisons</option>
<option value="fassions">fassions</option>
</select>
            de notre mieux.
            <div class="inline-feedback" id="mode_10-feedback"></div>
</div>
<div class="question">
            11. Il vaut mieux que tu
            <select class="answer" id="mode_11">
<option value="">-- Choisir --</option>
<option value="viennes">viennes</option>
<option value="viens">viens</option>
</select>
            tÃ´t.
            <div class="inline-feedback" id="mode_11-feedback"></div>
</div>
<div class="question">
            12. Il n'est pas certain qu'il
            <select class="answer" id="mode_12">
<option value="">-- Choisir --</option>
<option value="ait">ait</option>
<option value="a">a</option>
</select>
            le temps.
            <div class="inline-feedback" id="mode_12-feedback"></div>
</div>
<div class="question">
            13. Je suis persuadÃ© qu'elle
            <select class="answer" id="mode_13">
<option value="">-- Choisir --</option>
<option value="reussit">rÃ©ussit</option>
<option value="reussisse">rÃ©ussisse</option>
</select>
            son examen.
            <div class="inline-feedback" id="mode_13-feedback"></div>
</div>
<div class="question">
            14. Il se peut que nous
            <select class="answer" id="mode_14">
<option value="">-- Choisir --</option>
<option value="soyons">soyons</option>
<option value="sommes">sommes</option>
</select>
            en retard.
            <div class="inline-feedback" id="mode_14-feedback"></div>
</div>
<div class="question">
            15. Je crois que vous
            <select class="answer" id="mode_15">
<option value="">-- Choisir --</option>
<option value="etes">Ãªtes</option>
<option value="soyez">soyez</option>
</select>
            prÃªts.
            <div class="inline-feedback" id="mode_15-feedback"></div>
</div>
<div class="question">
            16. Il est Ã©vident qu'ils
            <select class="answer" id="mode_16">
<option value="">-- Choisir --</option>
<option value="finiront">finiront</option>
<option value="finissent">finissent</option>
</select>
            le projet.
            <div class="inline-feedback" id="mode_16-feedback"></div>
</div>
<div class="question">
            17. Je doute qu'on
            <select class="answer" id="mode_17">
<option value="">-- Choisir --</option>
<option value="puisse">puisse</option>
<option value="peut">peut</option>
</select>
            partir Ã  l'heure.
            <div class="inline-feedback" id="mode_17-feedback"></div>
</div>
<div class="question">
            18. Je suis certain que tu
            <select class="answer" id="mode_18">
<option value="">-- Choisir --</option>
<option value="feras">feras</option>
<option value="fasses">fasses</option>
</select>
            un excellent travail.
            <div class="inline-feedback" id="mode_18-feedback"></div>
</div>
<div class="question">
            19. Il est vrai que nous
            <select class="answer" id="mode_19">
<option value="">-- Choisir --</option>
<option value="avons">avons</option>
<option value="ayons">ayons</option>
</select>
            besoin d'aide.
            <div class="inline-feedback" id="mode_19-feedback"></div>
</div>
<div class="question">
            20. Je ne suis pas sÃ»r qu'elle
            <select class="answer" id="mode_20">
<option value="">-- Choisir --</option>
<option value="soit">soit</option>
<option value="est">est</option>
</select>
            disponible.
            <div class="inline-feedback" id="mode_20-feedback"></div>
</div>
<button onclick="checkSubjonctifMode()">VÃ©rifier</button>
<button onclick="resetSubjonctifMode()">Recommencer</button>
<div class="result" id="result-subj-mode"></div>
</div>
<div class="exercise">
<h4>ğŸ§ RÃ©vision : Avoir vs Aller au subjonctif prÃ©sent</h4>
<p>Ã‰coute chaque forme pour mÃ©moriser la prononciation.</p>
<div class="verb-grid">
<div class="verb-card">
<h5>AVOIR</h5>
<ul>
<li><span>que j'<strong>aie</strong></span><button class="audio-chip" onclick="speakConjugaison('que j\'aie')" type="button">ğŸ”Š</button></li>
<li><span>que tu <strong>aies</strong></span><button class="audio-chip" onclick="speakConjugaison('que tu aies')" type="button">ğŸ”Š</button></li>
<li><span>qu'il/elle <strong>ait</strong></span><button class="audio-chip" onclick="speakConjugaison('quil ait')" type="button">ğŸ”Š</button></li>
<li><span>que nous <strong>ayons</strong></span><button class="audio-chip" onclick="speakConjugaison('que nous ayons')" type="button">ğŸ”Š</button></li>
<li><span>que vous <strong>ayez</strong></span><button class="audio-chip" onclick="speakConjugaison('que vous ayez')" type="button">ğŸ”Š</button></li>
<li><span>qu'ils/elles <strong>aient</strong></span><button class="audio-chip" onclick="speakConjugaison('quilz aient')" type="button">ğŸ”Š</button></li>
</ul>
</div>
<div class="verb-card">
<h5>ALLER</h5>
<ul>
<li><span>que j'<strong>aille</strong></span><button class="audio-chip" onclick="speakConjugaison('que j\'aille')" type="button">ğŸ”Š</button></li>
<li><span>que tu <strong>ailles</strong></span><button class="audio-chip" onclick="speakConjugaison('que tu ailles')" type="button">ğŸ”Š</button></li>
<li><span>qu'il/elle <strong>aille</strong></span><button class="audio-chip" onclick="speakConjugaison('quil aille')" type="button">ğŸ”Š</button></li>
<li><span>que nous <strong>allions</strong></span><button class="audio-chip" onclick="speakConjugaison('que nous allions')" type="button">ğŸ”Š</button></li>
<li><span>que vous <strong>alliez</strong></span><button class="audio-chip" onclick="speakConjugaison('que vous alliez')" type="button">ğŸ”Š</button></li>
<li><span>qu'ils/elles <strong>aillent</strong></span><button class="audio-chip" onclick="speakConjugaison('quilz aillent')" type="button">ğŸ”Š</button></li>
</ul>
</div>
</div>
</div>
<div class="exercise">
<h4>Exercice : Avoir ou Aller ?</h4>
<p>SÃ©lectionne la bonne forme au subjonctif prÃ©sent pour chaque phrase.</p>
<div id="avoir-aller-questions"></div>
<button onclick="checkAvoirAller()">VÃ©rifier</button>
<button onclick="resetAvoirAller()">Recommencer</button>
<div class="result" id="result-avoir-aller"></div>
</div>
<script>
        (function() {
            const questions = [
                { id: 'mode_1', answer: 'viens', explanation: "Opinion affirmÃ©e â†’ indicatif" },
                { id: 'mode_2', answer: 'sommes', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_3', answer: 'finissiez', explanation: "Doute â†’ subjonctif" },
                { id: 'mode_4', answer: 'puisse', explanation: "PossibilitÃ© â†’ subjonctif" },
                { id: 'mode_5', answer: 'reussira', explanation: "Opinion positive affirmÃ©e â†’ indicatif" },
                { id: 'mode_6', answer: 'soient', explanation: "Incertitude â†’ subjonctif" },
                { id: 'mode_7', answer: 'as', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_8', answer: 'vienne', explanation: "Opinion nÃ©gative â†’ subjonctif" },
                { id: 'mode_9', answer: 'puissent', explanation: "Question sur l'opinion â†’ subjonctif" },
                { id: 'mode_10', answer: 'faisons', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_11', answer: 'viennes', explanation: "Conseil / nÃ©cessitÃ© â†’ subjonctif" },
                { id: 'mode_12', answer: 'ait', explanation: "Incertitude â†’ subjonctif" },
                { id: 'mode_13', answer: 'reussit', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_14', answer: 'soyons', explanation: "PossibilitÃ© â†’ subjonctif" },
                { id: 'mode_15', answer: 'etes', explanation: "Opinion affirmÃ©e â†’ indicatif" },
                { id: 'mode_16', answer: 'finiront', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_17', answer: 'puisse', explanation: "Doute â†’ subjonctif" },
                { id: 'mode_18', answer: 'feras', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_19', answer: 'avons', explanation: "Certitude â†’ indicatif" },
                { id: 'mode_20', answer: 'soit', explanation: "Incertitude â†’ subjonctif" }
            ];

            function normalize(value) {
                return (value || '')
                    .toString()
                    .trim()
                    .toLowerCase()
                    .normalize('NFD')
                    .replace(/[\u0300-\u036f]/g, '');
            }

            function getLabel(selectEl, expected) {
                const normalizedExpected = normalize(expected);
                const option = Array.from(selectEl.options).find(opt => normalize(opt.value) === normalizedExpected);
                return option ? option.textContent.trim() : expected;
            }

            function toggleFeedback(feedback, message, status) {
                if (!feedback) return;
                feedback.innerHTML = message;
                feedback.className = `inline-feedback ${status}`;
                feedback.style.visibility = 'visible';
            }

            window.checkSubjonctifMode = function() {
                const result = document.getElementById('result-subj-mode');
                if (!result) return;

                let correct = 0;
                questions.forEach(q => {
                    const select = document.getElementById(q.id);
                    const feedback = document.getElementById(`${q.id}-feedback`);
                    if (!select) return;

                    const value = normalize(select.value);
                    const expected = normalize(q.answer);
                    const label = getLabel(select, q.answer);

                    select.classList.remove('correct', 'incorrect');

                    if (!select.value) {
                        toggleFeedback(feedback, `âŒ ${q.explanation} â†’ tu dois choisir une forme.`, 'bad');
                        select.classList.add('incorrect');
                        return;
                    }

                    if (value === expected) {
                        toggleFeedback(feedback, `âœ… ${q.explanation}`, 'good');
                        select.classList.add('correct');
                        correct++;
                    } else {
                        toggleFeedback(feedback, `âŒ ${q.explanation} â†’ forme attendue : <strong>${label}</strong>`, 'bad');
                        select.classList.add('incorrect');
                    }
                });

                const total = questions.length;
                const percentage = (correct / total) * 100;

                if (percentage === 100) {
                    result.className = 'result show success';
                    result.textContent = `ğŸ¯ Parfait ! ${correct}/${total} rÃ©ponses justes.`;
                } else if (percentage >= 70) {
                    result.className = 'result show partial';
                    result.textContent = `ğŸ‘ ${correct}/${total} â€” trÃ¨s bien ! Continue !`;
                } else {
                    result.className = 'result show partial';
                    result.textContent = `ğŸ’¡ ${correct}/${total} â€” relis la rÃ¨gle opinion/certitude vs subjonctif.`;
                }
            };

            window.resetSubjonctifMode = function() {
                questions.forEach(q => {
                    const select = document.getElementById(q.id);
                    const feedback = document.getElementById(`${q.id}-feedback`);
                    if (!select) return;
                    select.value = '';
                    select.className = 'answer';
                    if (feedback) {
                        feedback.innerHTML = '';
                        feedback.className = 'inline-feedback';
                        feedback.style.visibility = 'hidden';
                    }
                });

                const result = document.getElementById('result-subj-mode');
                if (result) {
                    result.className = 'result';
                    result.innerHTML = '';
                }
            };

            const avoirAllerQuestions = [
                {
                    id: 'aa1',
                    text: "Il faut que tu ___ plus de patience.",
                    options: [
                        { value: 'aies', label: 'aies (avoir)' },
                        { value: 'ailles', label: 'ailles (aller)' }
                    ],
                    answer: 'aies',
                    explanation: "On exprime une possession â†’ verbe \"avoir\"."
                },
                {
                    id: 'aa2',
                    text: "Il est nÃ©cessaire que nous ___ Ã  Paris demain matin.",
                    options: [
                        { value: 'allions', label: 'allions (aller)' },
                        { value: 'ayons', label: 'ayons (avoir)' }
                    ],
                    answer: 'allions',
                    explanation: "DÃ©placement â†’ verbe \"aller\"."
                },
                {
                    id: 'aa3',
                    text: "Je doute qu'ils ___ assez d'expÃ©rience.",
                    options: [
                        { value: 'aient', label: 'aient (avoir)' },
                        { value: 'aillent', label: 'aillent (aller)' }
                    ],
                    answer: 'aient',
                    explanation: "On parle de possÃ©der de l'expÃ©rience â†’ \"avoir\"."
                },
                {
                    id: 'aa4',
                    text: "Il est important que vous ___ chez le mÃ©decin.",
                    options: [
                        { value: 'alliez', label: 'alliez (aller)' },
                        { value: 'ayez', label: 'ayez (avoir)' }
                    ],
                    answer: 'alliez',
                    explanation: "Aller quelque part â†’ verbe \"aller\"."
                },
                {
                    id: 'aa6',
                    text: "Le professeur veut que nous ___ nos cahiers avec nous.",
                    options: [
                        { value: 'ayons', label: 'ayons (avoir)' },
                        { value: 'allions', label: 'allions (aller)' }
                    ],
                    answer: 'ayons',
                    explanation: "Possession d'objets â†’ \"avoir\"."
                },
                {
                    id: 'aa7',
                    text: "Elle souhaite que tu ___ au bureau dÃ¨s 9 h.",
                    options: [
                        { value: 'ailles', label: 'ailles (aller)' },
                        { value: 'aies', label: 'aies (avoir)' }
                    ],
                    answer: 'ailles',
                    explanation: "DÃ©placement vers un lieu â†’ \"aller\"."
                },
                {
                    id: 'aa8',
                    text: "Je suis content que vous ___ du temps pour nous.",
                    options: [
                        { value: 'ayez', label: 'ayez (avoir)' },
                        { value: 'alliez', label: 'alliez (aller)' }
                    ],
                    answer: 'ayez',
                    explanation: "Avoir du temps = possÃ©der â†’ \"avoir\"."
                },
                {
                    id: 'aa9',
                    text: "Il faut que j' ___ assez d'argent pour payer.",
                    options: [
                        { value: 'aie', label: "aie (avoir)" },
                        { value: 'aille', label: "aille (aller)" }
                    ],
                    answer: 'aie',
                    explanation: "On possÃ¨de de l'argent â†’ \"avoir\"."
                },
                {
                    id: 'aa10',
                    text: "Ils prÃ©fÃ¨rent que nous ___ chez eux ce soir.",
                    options: [
                        { value: 'allions', label: 'allions (aller)' },
                        { value: 'ayons', label: 'ayons (avoir)' }
                    ],
                    answer: 'allions',
                    explanation: "Se rendre chez quelqu'un â†’ \"aller\"."
                }
            ];

            function renderAvoirAllerQuestions() {
                const container = document.getElementById('avoir-aller-questions');
                if (!container) return;

                container.innerHTML = avoirAllerQuestions.map((q, index) => {
                    const selectOptions = ['<option value="">-- Choisir --</option>']
                        .concat(q.options.map(opt => `<option value="${opt.value}">${opt.label}</option>`))
                        .join('');
                    const selectHtml = `<select id="${q.id}" class="answer">${selectOptions}</select>`;
                    const questionText = q.text.replace('___', selectHtml);
                    return `
                        <div class="question aa-question">
                            ${index + 1}. ${questionText}
                            <div id="${q.id}-feedback" class="inline-feedback"></div>
                        </div>
                    `;
                }).join('');

                avoirAllerQuestions.forEach(q => {
                    const feedback = document.getElementById(`${q.id}-feedback`);
                    if (feedback) {
                        feedback.style.visibility = 'hidden';
                    }
                });
            }

            window.checkAvoirAller = function() {
                const result = document.getElementById('result-avoir-aller');
                if (!result) return;

                let correct = 0;

                avoirAllerQuestions.forEach(q => {
                    const select = document.getElementById(q.id);
                    const feedback = document.getElementById(`${q.id}-feedback`);
                    if (!select) return;

                    const value = normalize(select.value);
                    const expected = normalize(q.answer);
                    const label = getLabel(select, q.answer);

                    select.classList.remove('correct', 'incorrect');

                    if (!select.value) {
                        toggleFeedback(feedback, `âŒ ${q.explanation} â†’ choisis une forme.`, 'bad');
                        select.classList.add('incorrect');
                        return;
                    }

                    if (value === expected) {
                        toggleFeedback(feedback, `âœ… ${q.explanation}`, 'good');
                        select.classList.add('correct');
                        correct++;
                    } else {
                        toggleFeedback(feedback, `âŒ ${q.explanation} â†’ forme attendue : <strong>${label}</strong>`, 'bad');
                        select.classList.add('incorrect');
                    }
                });

                const total = avoirAllerQuestions.length;
                const percentage = (correct / total) * 100;

                if (percentage === 100) {
                    result.className = 'result show success';
                    result.textContent = `ğŸ‰ Bravo ! ${correct}/${total} â€” tu distingues parfaitement \"avoir\" et \"aller\".`;
                } else if (percentage >= 70) {
                    result.className = 'result show partial';
                    result.textContent = `ğŸ‘ ${correct}/${total} â€” encore quelques dÃ©tails et ce sera parfait !`;
                } else {
                    result.className = 'result show partial';
                    result.textContent = `ğŸ’¡ ${correct}/${total} â€” relis les conjugaisons ci-dessus et rÃ©essaie.`;
                }
            };

            window.resetAvoirAller = function() {
                avoirAllerQuestions.forEach(q => {
                    const select = document.getElementById(q.id);
                    const feedback = document.getElementById(`${q.id}-feedback`);
                    if (!select) return;
                    select.value = '';
                    select.className = 'answer';
                    if (feedback) {
                        feedback.innerHTML = '';
                        feedback.className = 'inline-feedback';
                        feedback.style.visibility = 'hidden';
                    }
                });

                const result = document.getElementById('result-avoir-aller');
                if (result) {
                    result.className = 'result';
                    result.textContent = '';
                }
            };

            window.speakConjugaison = function(rawText) {
                if (!('speechSynthesis' in window)) {
                    alert('La synthÃ¨se vocale n\'est pas disponible sur ce navigateur.');
                    return;
                }

                const formatted = rawText
                    .replace(/quilz/g, "qu'ils")
                    .replace(/quil/g, "qu'il")
                    .replace(/\s+/g, ' ')
                    .replace(/â€™/g, "'");

                const synth = window.speechSynthesis;

                const speak = () => {
                    synth.cancel();
                    synth.resume();

                    const utterance = new SpeechSynthesisUtterance(formatted);
                    utterance.lang = 'fr-FR';
                    utterance.rate = 1;
                    utterance.pitch = 1;

                    const voices = synth.getVoices().filter(v => v.lang && v.lang.toLowerCase().startsWith('fr'));
                    if (voices.length) {
                        utterance.voice = voices[0];
                    }

                    synth.speak(utterance);
                };

                if (!synth.getVoices().length) {
                    const once = () => {
                        synth.removeEventListener('voiceschanged', once);
                        speak();
                    };
                    synth.addEventListener('voiceschanged', once);
                    synth.getVoices();
                    setTimeout(() => {
                        if (synth.getVoices().length) speak();
                    }, 400);
                } else {
                    speak();
                }
            };

            renderAvoirAllerQuestions();
        })();
    </script>
